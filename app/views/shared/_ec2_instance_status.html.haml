- cache [:v2, ec2_instance] do
  .row-fluid
    .span2
      Instance ID:
    .span2= ec2_instance.instance_id
  .row-fluid
    .span2
      IP address:
    .span2= ec2_instance.ip_address
  .row-fluid
    .span2
      Current Step:
    .span2
      .current_step
      - if ec2_instance.human_status == 'Ready'
        .progress-info.progress-striped{style: "background-color: red;"}
          .bar{:style => "width: #{ec2_instance.progress}%; color: black;"}= ec2_instance.human_status
      - else
        = ec2_instance.human_status
      #spinner
  - if ec2_instance.human_status == 'Ready'
    .row-fluid
      .span2
        Bootstrapped:
      .span2
        .bootstrapped= display_status_image(ec2_instance.bootstrapped)
    .row-fluid
      .span2
        Joined to Domain:
      .span2
        .joined= display_status_image(ec2_instance.joined)
  - if ec2_instance.human_status == 'Ready'
    %div{"ng-controller" => "Ec2InstanceCtrl", "ng-init" => "getAwsStatus()", "id" => "Ec2InstanceCtrl", "data-instance-id" => ec2_instance.instance_id}
      .row-fluid
        .span2
          Status check failed:
        .span2
          {{ec2_instance_status.status_check_failed}}
      .row-fluid
        .span2
          CPU Utilization:
        .span2
          {{ec2_instance_status.cpu_utilization}}

  - else
    :javascript
        Ec2InstanceRequestStatusPoller.poll();
